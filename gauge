import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react';
import '@testing-library/jest-dom';
import PortfolioDiversity from './PortfolioDiversity';

const mockPortfolio = {
  allocation: { bigTech: 20, stocks: 30, energy: 25, ecommerce: 15, funds: 10 },
  bondEquity: { bonds: 60, equities: 40 },
  assetClass: { realEstate: 10, commodities: 20, crypto: 30, others: 40 }
};

describe('PortfolioDiversity Component', () => {
  it('renders AllocationView by default', () => {
    render(<PortfolioDiversity portfolio={mockPortfolio} />);
    expect(screen.getByText('Allocation View')).toBeInTheDocument();
  });

  it('renders BondEquity view when button is clicked', () => {
    render(<PortfolioDiversity portfolio={mockPortfolio} />);
    fireEvent.click(screen.getByText('Bond Equity'));
    expect(screen.getByText('Bond Equity distribution in your portfolio.')).toBeInTheDocument();
  });

  it('renders AssetClass view when button is clicked', () => {
    render(<PortfolioDiversity portfolio={mockPortfolio} />);
    fireEvent.click(screen.getByText('Asset Class'));
    expect(screen.getByText('Asset Class distribution in your portfolio.')).toBeInTheDocument();
  });

  it('renders AllocationView view when button is clicked', () => {
    render(<PortfolioDiversity portfolio={mockPortfolio} />);
    fireEvent.click(screen.getByText('Allocation View'));
    expect(screen.getByText('Allocation View')).toBeInTheDocument();
  });
});